{% extends "base.html" %}
{% load static %}


{% block content %}


    <section class="hero_section">
        <div class="container">
            <div class="hero_text_main">
                <h5>Instant quote <img src="{% static 'assets/imgs/stars.svg' %}" alt=""></h5>
                <h2>Get an Instant Quote for Your 3D Print</h2>
                <p>Upload your model, select materials and options, get instant pricing with detailed breakdown</p>
            </div>
        </div>
    </section>

    <section class="quote_section">
        <div class="container">
            <div class="quote_multistep_form_main">
                <div class="steps">
                    <div class="step active">
                        <div class="step_circle">1</div>
                        <div class="step_text">
                            <h6>Upload File</h6>
                            <p>STL, OBJ, 3MF</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step_circle">2</div>
                        <div class="step_text">
                            <h6>Configure</h6>
                            <p>Material & Settings</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step_circle">3</div>
                        <div class="step_text">
                            <h6>Quote & Order</h6>
                            <p>Review & Purchase</p>
                        </div>
                    </div>
                </div>

                <div class="form-step active">
                    <div class="form_step_content_main">
                        <div class="form_step_cont_title">
                            <h2><span>Step 1:</span> Upload Your 3D File</h2>
                            <p>Upload your 3D model and we'll analyze it instantly to provide accurate pricing</p>
                        </div>
                        <div class="form_cont_step1_upload_file" id="dropzone">
                            <div class="dropzone-content">
                                <img src="{% static 'assets/imgs/export.svg' %}" alt="Upload Icon" class="upload-icon">
                                <h4>Drag and drop your file here</h4>
                                <p>or click to browse your computer</p>
                                <label class="browse-btn">
                                    Browse File <img src="{% static 'assets/imgs/clipboardtext.svg' %}" alt="">
                                    <input type="file" id="fileInput" hidden>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-step">
                    <div class="form_step_content_main">
                        <div class="form_step_cont_title">
                            <h2><span>Step 2:</span>Configure Your Print Settings</h2>
                            <p>Upload your 3D model and we'll analyze it instantly to provide accurate pricing</p>
                        </div>
                        <div class="form_cont_step1_upload_file" id="dropzone">
                            <div class="dropzone-content">
                                <img src="{% static 'assets/imgs/export.svg' %}" alt="Upload Icon" class="upload-icon">
                                <h4>Drag and drop your file here</h4>
                                <p>or click to browse your computer</p>
                                <label class="browse-btn">
                                    Browse File <img src="{% static 'assets/imgs/clipboardtext.svg' %}" alt="">
                                    <input type="file" id="fileInput" hidden>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-step">
                    <h2>Step 3: Review & Order</h2>
                    <p>Confirm details and place your order.</p>
                </div>

                <div class="navigation-buttons">
                    <span><button id="prevBtn" disabled>Prev</button></span>
                    <span><img src="{% static 'assets/imgs/Logout.svg' %}" alt=""><button id="nextBtn">Next </button></span>
                </div>
            </div>
            <div class="file_format_main">
                <h3>Supported File Formats</h3>
                <div class="file_format_inner">
                    <div class="fileformat">
                        <button type="button">STL</button>
                        <p>Most common</p>
                    </div>
                    <div class="fileformat">
                        <button type="button">OBJ</button>
                        <p>With textures </p>
                    </div>
                    <div class="fileformat">
                        <button type="button">3MF</button>
                        <p>Microsoft 3D</p>
                    </div>
                    <div class="fileformat">
                        <button type="button">PLY </button>
                        <p>Point cloud</p>
                    </div>
                </div>
            </div>
            <div class="file_format_bottom_text">
                <p>Maximum file size: 100MB • Recommended: STL or 3MF</p>
                <a href="#">View Upload Guidelines</a>
            </div>
            <div class="file_format_bottom_text2">
                <div class="file_format_bottom_text2_inner">
                    <img src="{% static 'assets/imgs/ffb1.svg' %}" alt="">
                    <p>Professional Design</p>
                </div>
                <div class="file_format_bottom_text2_inner">
                    <img src="{% static 'assets/imgs/ffb2.svg' %}" alt="">
                    <p>Secure & Confidential</p>
                </div>
                <div class="file_format_bottom_text2_inner">
                    <img src="{% static 'assets/imgs/ffb3.svg' %}" alt="">
                    <p>24-48hr Response</p>
                </div>
            </div>
        </div>
    </section>


{% endblock content %}

{% block js %}

<script>
    const steps = document.querySelectorAll(".step");
    const formSteps = document.querySelectorAll(".form-step");
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");

    let currentStep = 0;

    function updateForm() {
      formSteps.forEach((form, i) => {
        form.classList.remove("active");
        setTimeout(() => {
          if (i === currentStep) form.classList.add("active");
        }, 10); // Allow transition animation
      });

      steps.forEach((step, i) => {
        step.classList.remove("active", "completed");
        if (i < currentStep) {
          step.classList.add("completed");
        } else if (i === currentStep) {
          step.classList.add("active");
        }
      });

      prevBtn.disabled = currentStep === 0;
      nextBtn.textContent = currentStep === steps.length - 1 ? "Submit" : "Next ";
    }

    nextBtn.addEventListener("click", () => {
      if (currentStep < formSteps.length - 1) {
        currentStep++;
        updateForm();
      } else {
        alert("✅ Form Submitted!");
      }
    });

    prevBtn.addEventListener("click", () => {
      if (currentStep > 0) {
        currentStep--;
        updateForm();
      }
    });

    updateForm();
</script>

<script>
  const dropzone = document.getElementById('dropzone');

  dropzone.addEventListener('dragover', (e) => {
    e.preventDefault();
    dropzone.classList.add('dragover');
  });

  dropzone.addEventListener('dragleave', () => {
    dropzone.classList.remove('dragover');
  });

  dropzone.addEventListener('drop', (e) => {
    e.preventDefault();
    dropzone.classList.remove('dragover');
    const files = e.dataTransfer.files;
    // Handle files here...
    alert(`You dropped ${files.length} file(s)`);
  });

  document.getElementById("fileInput").addEventListener("change", function () {
    alert(`You selected ${this.files.length} file(s)`);
  });
</script>

{% endblock js %}